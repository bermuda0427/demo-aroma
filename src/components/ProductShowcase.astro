---
/**
 * Product Showcase Component
 * 產品展示區 - 滾動觸發動畫
 */
import { Image } from 'astro:assets';
import perfumeBottle from '../assets/perfume-bottle.jpg';
import perfumeWater from '../assets/perfume-water.jpg';
---

<section id="products" class="relative py-32 overflow-hidden">
  <!-- 背景裝飾 -->
  <div class="absolute inset-0 pointer-events-none">
    <div class="absolute top-0 right-0 w-1/2 h-1/2 bg-gradient-to-br from-neutral-100/50 to-transparent rounded-full blur-3xl"></div>
    <div class="absolute bottom-0 left-0 w-1/2 h-1/2 bg-gradient-to-tr from-neutral-100/50 to-transparent rounded-full blur-3xl"></div>
  </div>
  
  <div class="container-site relative">
    <!-- Section Header -->
    <div class="text-center mb-24 scroll-reveal">
      <p class="text-accent mb-4">Our Collection</p>
      <h2 class="mb-6">精選系列</h2>
      <p class="text-xl text-neutral-600 max-w-2xl mx-auto">
        每一款香水都是獨立的藝術品，<br />
        承載著調香師的靈感與情感
      </p>
    </div>
    
    <!-- Product Grid -->
    <div class="grid md:grid-cols-2 gap-16 md:gap-24 items-center mb-32">
      <!-- Product 1 -->
      <div class="scroll-reveal" data-delay="200">
        <div class="relative group">
          <div class="glass rounded-3xl p-8 transition-all duration-500 hover:scale-105">
            <div class="aspect-square overflow-hidden rounded-2xl mb-6">
              <Image 
                src={perfumeBottle}
                alt="Signature Perfume"
                class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                quality={85}
              />
            </div>
            <div class="text-center">
              <p class="text-accent mb-2">Signature Collection</p>
              <h3 class="text-3xl mb-4">Essence Royale</h3>
              <p class="text-neutral-600 mb-6">
                融合茉莉、檀香與琥珀的經典配方，<br />
                展現永恆優雅的氣質
              </p>
              <a href="#" class="text-accent inline-flex items-center gap-2 hover:gap-4 transition-all">
                探索更多
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                </svg>
              </a>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Product 2 -->
      <div class="scroll-reveal" data-delay="400">
        <div class="relative group">
          <div class="glass rounded-3xl p-8 transition-all duration-500 hover:scale-105">
            <div class="aspect-square overflow-hidden rounded-2xl mb-6">
              <Image 
                src={perfumeWater}
                alt="Aqua Collection"
                class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                quality={85}
              />
            </div>
            <div class="text-center">
              <p class="text-accent mb-2">Limited Edition</p>
              <h3 class="text-3xl mb-4">Aqua Mystique</h3>
              <p class="text-neutral-600 mb-6">
                海洋氣息與柑橘調的完美結合，<br />
                帶來清新而神秘的感官體驗
              </p>
              <a href="#" class="text-accent inline-flex items-center gap-2 hover:gap-4 transition-all">
                探索更多
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                </svg>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Feature Cards -->
    <div class="grid md:grid-cols-3 gap-8">
      <div class="scroll-reveal glass-dark rounded-2xl p-8 text-white" data-delay="100">
        <div class="text-4xl mb-4">✦</div>
        <h4 class="text-2xl mb-3">手工調製</h4>
        <p class="text-neutral-300">
          每一瓶香水都由資深調香師親手調配，確保品質與獨特性
        </p>
      </div>
      
      <div class="scroll-reveal glass-dark rounded-2xl p-8 text-white" data-delay="200">
        <div class="text-4xl mb-4">◆</div>
        <h4 class="text-2xl mb-3">天然原料</h4>
        <p class="text-neutral-300">
          嚴選來自世界各地的頂級天然香料，拒絕化學合成
        </p>
      </div>
      
      <div class="scroll-reveal glass-dark rounded-2xl p-8 text-white" data-delay="300">
        <div class="text-4xl mb-4">◈</div>
        <h4 class="text-2xl mb-3">限量發行</h4>
        <p class="text-neutral-300">
          每款香水限量生產，讓您擁有真正獨一無二的嗅覺體驗
        </p>
      </div>
    </div>
  </div>
</section>

<style>
  /* 滾動顯示動畫 */
  .scroll-reveal {
    opacity: 0;
    transform: translateY(40px);
    transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .scroll-reveal.revealed {
    opacity: 1;
    transform: translateY(0);
  }
  
  /* 延遲動畫 */
  .scroll-reveal[data-delay="100"].revealed {
    transition-delay: 0.1s;
  }
  
  .scroll-reveal[data-delay="200"].revealed {
    transition-delay: 0.2s;
  }
  
  .scroll-reveal[data-delay="300"].revealed {
    transition-delay: 0.3s;
  }
  
  .scroll-reveal[data-delay="400"].revealed {
    transition-delay: 0.4s;
  }
</style>

<script>
  // Intersection Observer for scroll animations
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -100px 0px'
  };
  
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('revealed');
        // 可選：觀察一次後停止
        // observer.unobserve(entry.target);
      }
    });
  }, observerOptions);
  
  // 觀察所有需要動畫的元素
  document.addEventListener('DOMContentLoaded', () => {
    const revealElements = document.querySelectorAll('.scroll-reveal');
    revealElements.forEach(el => observer.observe(el));
  });
</script>
